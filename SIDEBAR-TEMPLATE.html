<!-- Standard Sidebar for All Pages -->
<!-- Copy this sidebar structure to all pages -->

    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <div class="logo">
            <h2>ğŸ  Smart-Share</h2>
        </div>
        <nav class="nav-menu">
            <a href="#" class="nav-item" id="dashboardLink">
                <span class="icon">ğŸ“Š</span>
                <span>Dashboard</span>
            </a>
            <a href="finances.html" class="nav-item" data-role="admin,roommate">
                <span class="icon">ğŸ’°</span>
                <span>Finances</span>
            </a>
            <a href="chores.html" class="nav-item" data-role="admin,roommate">
                <span class="icon">âœ“</span>
                <span>Chores</span>
            </a>
            <a href="maintenance.html" class="nav-item" data-role="admin,roommate,landlord,maintenance">
                <span class="icon">ğŸ”§</span>
                <span>Maintenance</span>
            </a>
            <a href="shopping.html" class="nav-item" data-role="admin,roommate">
                <span class="icon">ğŸ›’</span>
                <span>Shopping List</span>
            </a>
            <a href="users.html" class="nav-item" data-role="admin">
                <span class="icon">ğŸ‘¥</span>
                <span>User Management</span>
            </a>
            <a href="announcements.html" class="nav-item" data-role="admin,roommate,landlord">
                <span class="icon">ğŸ“¢</span>
                <span>Announcements</span>
            </a>
            <a href="guest-view.html" class="nav-item guest-link">
                <span class="icon">ğŸ”“</span>
                <span>Guest View</span>
            </a>
        </nav>
        <div class="sidebar-footer">
            <div class="user-info" id="userInfoSection" style="cursor: pointer;">
                <div class="user-avatar" id="userAvatar">AK</div>
                <div class="user-details">
                    <div class="user-name" id="userName">User</div>
                    <div class="user-role" id="currentRole">Admin</div>
                </div>
            </div>
            <div class="logout-dropdown" id="logoutDropdown" style="display: none;">
                <button class="logout-btn-sidebar" onclick="confirmLogout()">ğŸšª Logout</button>
            </div>
            <button class="btn-icon" id="darkModeToggle" title="Toggle Dark Mode">ğŸŒ™</button>
        </div>
    </aside>

<!-- Standard Script for Sidebar User Info -->
<!-- Add this after authentication check in script section -->

        // Update sidebar user info
        document.getElementById('userName').textContent = currentUser.fullName || 'User';
        const roleNames = {'admin': 'House Admin', 'roommate': 'Roommate', 'landlord': 'Landlord', 'maintenance': 'Maintenance Staff'};
        document.getElementById('currentRole').textContent = roleNames[currentUser.role] || currentUser.role;
        if (currentUser.fullName) {
            document.getElementById('userAvatar').textContent = currentUser.fullName.split(' ').map(n => n[0]).join('').toUpperCase();
        }
        document.getElementById('dashboardLink').href = currentUser.dashboard || 'index.html';

        // Toggle logout dropdown
        document.getElementById('userInfoSection').addEventListener('click', function(e) {
            e.stopPropagation();
            document.getElementById('logoutDropdown').style.display = document.getElementById('logoutDropdown').style.display === 'none' ? 'block' : 'none';
        });
        document.addEventListener('click', function() { document.getElementById('logoutDropdown').style.display = 'none'; });

        // Logout function
        function confirmLogout() {
            if (confirm('Are you sure you want to logout?')) {
                sessionStorage.removeItem('currentUser');
                window.location.href = 'login.html';
            }
        }

        // Hide nav items based on role
        document.querySelectorAll('.nav-item[data-role]').forEach(item => {
            if (!item.getAttribute('data-role').split(',').includes(currentUser.role)) item.style.display = 'none';
        });
